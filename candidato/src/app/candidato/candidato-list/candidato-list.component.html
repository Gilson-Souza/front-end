<mat-card>

  <mat-card-content class="container">

    <mat-toolbar color="primary">
      Candidatos Cadastrados
    </mat-toolbar>

    <div class="container__cont">
      <div *ngIf="candidatos$ | async as candidatos; else loading" >

        <table mat-table [dataSource]="candidatos" class="mat-elevation-z8">

          <!--- Note that these columns can be defined in any order.
    The actual rendered columns are set as a property on the row definition" -->


            <!-- Name Column -->

              <ng-container matColumnDef="nome">
                <th mat-header-cell *matHeaderCellDef> Nome </th>
                <td mat-cell *matCellDef="let candidatos"> {{candidatos.nome}} </td>
              </ng-container>


            <!-- Id Column -->

              <ng-container matColumnDef="cursos">
                <th mat-header-cell *matHeaderCellDef> Curso </th>
                <td mat-cell *matCellDef="let candidatos"> {{candidatos.cursos[0].nome}}</td>
              </ng-container>

            <!-- Descricao Column  -->

              <ng-container matColumnDef="telefone">
                <th mat-header-cell *matHeaderCellDef> Telefone </th>
                <td mat-cell *matCellDef="let candidatos"> {{candidatos.telefones[0].numero}}
                <mat-icon aria-hidden="false" aria-label="telefones"> {{candidatos.telefones[0].tipo | category}}</mat-icon></td>
              </ng-container>


            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>
                  <button mat-mini-fab align-middle style="background-color: rgb(21, 209, 21);" aria-label="actions"
                    (click)="onAdd()">
                    <mat-icon>add</mat-icon>
                  </button>
               </th>


              <td mat-cell *matCellDef="let candidato">
                  <button mat-mini-fab align-middle color="secondary" aria-label="Visualizar Candidato"
                    [routerLink]="['display', candidato.id]">
                    <mat-icon>search</mat-icon>
                  </button>
                </td>
            </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


      </table>

    </div>

        <ng-template #loading>
          <div class="loading-spinner">
            <mat-spinner></mat-spinner>
          </div>
        </ng-template>

    </div>
  </mat-card-content>

</mat-card>
